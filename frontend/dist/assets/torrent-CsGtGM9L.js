import{A as L,i as w}from"./index-yptzv2Gs.js";const U=L("torrent",()=>{const c=w([]),s=w([]),d=w(!1),k=w(null);async function J(){var n,r,e;return(e=(r=(n=window.go)==null?void 0:n.main)==null?void 0:r.TorrServer)!=null&&e.Echo?await window.go.main.TorrServer.Echo():!1}async function G(n,r,e){var t,o,i;return(i=(o=(t=window.go)==null?void 0:t.main)==null?void 0:o.TorrServer)!=null&&i.AddTorrent?await window.go.main.TorrServer.AddTorrent(n,r,e,!0):null}async function u(){var n,r,e;return(e=(r=(n=window.go)==null?void 0:n.main)==null?void 0:r.TorrServer)!=null&&e.GetTorrents?(c.value=await window.go.main.TorrServer.GetTorrents()||[],c.value):[]}async function R(n){var r,e,t;(t=(e=(r=window.go)==null?void 0:r.main)==null?void 0:e.TorrServer)!=null&&t.RemoveTorrent&&(await window.go.main.TorrServer.RemoveTorrent(n),await u())}async function x(n,r){var e,t,o;return(o=(t=(e=window.go)==null?void 0:e.main)==null?void 0:t.TorrServer)!=null&&o.GetStreamURL?await window.go.main.TorrServer.GetStreamURL(n,r):""}async function y(n,r){var e,t,o;(o=(t=(e=window.go)==null?void 0:e.main)==null?void 0:t.TorrServer)!=null&&o.PreloadTorrent&&await window.go.main.TorrServer.PreloadTorrent(n,r)}async function A(n,r="all"){var e,t,o,i,m,l,T,f,g,S,v,h;d.value=!0;try{let a=null;return r==="movie"&&((o=(t=(e=window.go)==null?void 0:e.main)==null?void 0:t.Jackett)!=null&&o.SearchMovies)?a=await window.go.main.Jackett.SearchMovies(n):r==="tv"&&((l=(m=(i=window.go)==null?void 0:i.main)==null?void 0:m.Jackett)!=null&&l.SearchTV)?a=await window.go.main.Jackett.SearchTV(n):r==="anime"&&((g=(f=(T=window.go)==null?void 0:T.main)==null?void 0:f.Jackett)!=null&&g.SearchAnime)?a=await window.go.main.Jackett.SearchAnime(n):(h=(v=(S=window.go)==null?void 0:S.main)==null?void 0:v.Jackett)!=null&&h.Search&&(a=await window.go.main.Jackett.Search(n,[])),s.value=(a==null?void 0:a.Results)||[],s.value}finally{d.value=!1}}async function B(){var n,r,e;return(e=(r=(n=window.go)==null?void 0:n.main)==null?void 0:r.Jackett)!=null&&e.GetIndexers?await window.go.main.Jackett.GetIndexers():[]}async function I(){var n,r,e;return(e=(r=(n=window.go)==null?void 0:n.main)==null?void 0:r.Jackett)!=null&&e.TestConnection?await window.go.main.Jackett.TestConnection():!1}function C(n){const r=["B","KB","MB","GB","TB"];let e=n,t=0;for(;e>=1024&&t<r.length-1;)e/=1024,t++;return`${e.toFixed(1)} ${r[t]}`}return{torrents:c,searchResults:s,isSearching:d,currentTorrent:k,checkTorrServer:J,addTorrent:G,getTorrents:u,removeTorrent:R,getStreamURL:x,preloadTorrent:y,searchJackett:A,getIndexers:B,testJackettConnection:I,formatSize:C}});export{U as u};
