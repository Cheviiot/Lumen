import{p as g,o as b,b as r,c as h,d as t,t as m,m as p,h as k,j as _,i as l,x as y}from"./index-yptzv2Gs.js";import{u as w,_ as S}from"./LoadingSpinner-BgCI5orC.js";import{_ as B}from"./MediaGrid-CpnfhZuL.js";import"./MediaCard-BGe4CHWK.js";const C={class:"p-6"},M={class:"text-2xl font-bold text-white mb-6"},$={class:"flex gap-2 mb-6"},j={key:1,class:"flex flex-col items-center justify-center h-64 text-center"},D={__name:"SearchView",setup(R){const v=y(),d=w(),o=l("movies"),n=l(!1),i=l([]),c=l([]),u=_(()=>v.query.q||""),x=_(()=>o.value==="movies"?i.value:c.value),f=async s=>{if(s){n.value=!0;try{const[e,a]=await Promise.all([d.searchMovies(s,1),d.searchTV(s,1)]);i.value=(e==null?void 0:e.results)||[],c.value=(a==null?void 0:a.results)||[]}catch(e){console.error("Search failed:",e)}finally{n.value=!1}}};return g(()=>v.query.q,s=>{s&&f(s)}),b(()=>{u.value&&f(u.value)}),(s,e)=>(r(),h("div",C,[t("h1",M,' Результаты поиска: "'+m(u.value)+'" ',1),t("div",$,[t("button",{class:p(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",o.value==="movies"?"bg-accent-600 text-white":"bg-dark-800 text-dark-400 hover:text-white"]),onClick:e[0]||(e[0]=a=>o.value="movies")}," Фильмы ("+m(i.value.length)+") ",3),t("button",{class:p(["px-4 py-2 rounded-lg text-sm font-medium transition-colors",o.value==="series"?"bg-accent-600 text-white":"bg-dark-800 text-dark-400 hover:text-white"]),onClick:e[1]||(e[1]=a=>o.value="series")}," Сериалы ("+m(c.value.length)+") ",3)]),n.value?(r(),k(S,{key:0,text:"Поиск..."})):x.value.length===0?(r(),h("div",j,[...e[2]||(e[2]=[t("svg",{class:"w-16 h-16 text-dark-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),t("h3",{class:"text-lg font-medium text-dark-400 mb-2"},"Ничего не найдено",-1),t("p",{class:"text-dark-500 text-sm"},"Попробуйте изменить поисковый запрос",-1)])])):(r(),k(B,{key:2,items:x.value,type:o.value==="movies"?"movie":"tv"},null,8,["items","type"]))]))}};export{D as default};
