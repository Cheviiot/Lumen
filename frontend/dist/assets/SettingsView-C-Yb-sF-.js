import{B as M,o as L,b as r,c as i,d as t,f as u,k as o,C as k,g as x,m as h,t as b,D as R,E as V,q as w,G as A,i as d}from"./index-yptzv2Gs.js";import{u as B}from"./torrent-CsGtGM9L.js";const K={class:"p-6 max-w-4xl mx-auto"},z={class:"space-y-6"},T={class:"card p-6"},I={class:"space-y-4"},P={class:"flex gap-2"},J=["disabled"],D={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},E={class:"card p-6"},N={class:"space-y-4"},O={class:"flex gap-2"},q=["type"],G={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F=["disabled"],H={class:"card p-6"},Q={class:"space-y-4"},W={class:"flex items-center gap-3"},X={class:"card p-6"},Y={class:"space-y-4"},Z={class:"flex justify-end gap-3"},_=["disabled"],lt={__name:"SettingsView",setup(tt){const f=M(),y=B(),s=A({torrServerURL:"http://localhost:8090",jackettURL:"http://localhost:9117",jackettAPIKey:"",supabaseURL:"",supabaseKey:"",theme:"dark",language:"ru",autoSync:!1}),c=d(!1),p=d(!1),v=d(!1),m=d(!1),a=d(null),n=d(null),S=async()=>{v.value=!0,a.value=null;try{a.value=await y.checkTorrServer()}catch{a.value=!1}finally{v.value=!1}},U=async()=>{m.value=!0,n.value=null;try{n.value=await y.testJackettConnection()}catch{n.value=!1}finally{m.value=!1}},j=async()=>{c.value=!0;try{await f.saveSettings(s)}finally{c.value=!1}},C=()=>{Object.assign(s,{torrServerURL:"http://localhost:8090",jackettURL:"http://localhost:9117",jackettAPIKey:"",supabaseURL:"",supabaseKey:"",theme:"dark",language:"ru",autoSync:!1})};return L(()=>{Object.assign(s,f.settings)}),(g,e)=>(r(),i("div",K,[e[27]||(e[27]=t("h1",{class:"text-2xl font-bold text-white mb-6"},"Настройки",-1)),t("div",z,[t("div",T,[e[12]||(e[12]=t("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-accent-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})]),u(" TorrServer ")],-1)),t("div",I,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"URL TorrServer",-1)),t("div",P,[o(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.torrServerURL=l),type:"text",class:"input-field flex-1",placeholder:"http://localhost:8090"},null,512),[[k,s.torrServerURL]]),t("button",{onClick:S,class:"btn-secondary flex items-center gap-2",disabled:v.value},[v.value?(r(),i("svg",D,[...e[9]||(e[9]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):x("",!0),e[10]||(e[10]=u(" Проверить ",-1))],8,J)]),a.value!==null?(r(),i("p",{key:0,class:h(["text-sm mt-1",a.value?"text-green-400":"text-red-400"])},b(a.value?"✓ Подключено":"✗ Не удалось подключиться"),3)):x("",!0)])])]),t("div",E,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-accent-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})]),u(" Jackett ")],-1)),t("div",N,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"URL Jackett",-1)),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.jackettURL=l),type:"text",class:"input-field",placeholder:"http://localhost:9117"},null,512),[[k,s.jackettURL]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"API ключ",-1)),t("div",O,[o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.jackettAPIKey=l),type:p.value?"text":"password",class:"input-field flex-1",placeholder:"Введите API ключ Jackett"},null,8,q),[[R,s.jackettAPIKey]]),t("button",{onClick:e[3]||(e[3]=l=>p.value=!p.value),class:"btn-secondary"},[p.value?(r(),i("svg",G,[...e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(r(),i("svg",$,[...e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))]),t("button",{onClick:U,class:"btn-secondary flex items-center gap-2",disabled:m.value}," Проверить ",8,F)]),n.value!==null?(r(),i("p",{key:0,class:h(["text-sm mt-1",n.value?"text-green-400":"text-red-400"])},b(n.value?"✓ Подключено":"✗ Не удалось подключиться"),3)):x("",!0)])])]),t("div",H,[e[21]||(e[21]=t("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-accent-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})]),u(" Supabase (Синхронизация) ")],-1)),t("div",Q,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"URL проекта Supabase",-1)),o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.supabaseURL=l),type:"text",class:"input-field",placeholder:"https://your-project.supabase.co"},null,512),[[k,s.supabaseURL]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"API ключ (anon)",-1)),o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s.supabaseKey=l),type:"password",class:"input-field",placeholder:"Введите anon ключ Supabase"},null,512),[[k,s.supabaseKey]])]),t("div",W,[o(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s.autoSync=l),type:"checkbox",id:"autoSync",class:"w-4 h-4 rounded border-dark-600 bg-dark-700 text-accent-600 focus:ring-accent-500"},null,512),[[V,s.autoSync]]),e[20]||(e[20]=t("label",{for:"autoSync",class:"text-sm text-dark-300"},"Автоматическая синхронизация",-1))])])]),t("div",X,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-accent-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]),u(" Приложение ")],-1)),t("div",Y,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"Язык",-1)),o(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>s.language=l),class:"input-field"},[...e[22]||(e[22]=[t("option",{value:"ru"},"Русский",-1),t("option",{value:"en"},"English",-1)])],512),[[w,s.language]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-dark-300 mb-2"},"Тема",-1)),o(t("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>s.theme=l),class:"input-field"},[...e[24]||(e[24]=[t("option",{value:"dark"},"Тёмная",-1),t("option",{value:"light"},"Светлая",-1)])],512),[[w,s.theme]])])])]),t("div",Z,[t("button",{onClick:C,class:"btn-secondary"}," Сбросить "),t("button",{onClick:j,class:"btn-primary",disabled:c.value},b(c.value?"Сохранение...":"Сохранить настройки"),9,_)])])]))}};export{lt as default};
