import{o as v,b as a,c as r,d as t,h as g,F as h,r as x,i as c,u as f,s as b,t as d,g as y}from"./index-yptzv2Gs.js";import{u as w,_ as B}from"./LoadingSpinner-BgCI5orC.js";const C={class:"p-6"},M={key:1,class:"flex flex-col items-center justify-center h-64 text-center"},L={key:2,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},V=["onClick"],$={class:"media-poster"},D=["src","alt"],F=["onClick"],j={class:"p-3"},N={class:"font-medium text-white text-sm line-clamp-2 mb-1"},R={class:"text-dark-400 text-xs"},S={key:0,class:"text-dark-500 text-xs mt-1 line-clamp-1"},E={__name:"BookmarksView",setup(z){const u=f(),n=w(),l=c([]),i=c(!0),m=s=>n.getImageURL(s,"w342"),p=s=>{const e=s.media_type==="tv"?"TVDetails":"MovieDetails";u.push({name:e,params:{id:s.tmdb_id}})},k=async s=>{await n.removeFromBookmarks(s.tmdb_id,s.media_type),l.value=l.value.filter(e=>!(e.tmdb_id===s.tmdb_id&&e.media_type===s.media_type))};return v(async()=>{i.value=!0,await n.loadBookmarks(),l.value=n.bookmarks,i.value=!1}),(s,e)=>(a(),r("div",C,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-white mb-6"},"Закладки",-1)),i.value?(a(),g(B,{key:0,text:"Загрузка закладок..."})):l.value.length===0?(a(),r("div",M,[...e[0]||(e[0]=[t("svg",{class:"w-16 h-16 text-dark-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})],-1),t("h3",{class:"text-lg font-medium text-dark-400 mb-2"},"Нет закладок",-1),t("p",{class:"text-dark-500 text-sm"},"Добавляйте фильмы и сериалы в закладки для быстрого доступа",-1)])])):(a(),r("div",L,[(a(!0),r(h,null,x(l.value,o=>(a(),r("div",{key:`${o.media_type}-${o.tmdb_id}`,class:"card-hover group cursor-pointer",onClick:_=>p(o)},[t("div",$,[t("img",{src:m(o.poster),alt:o.title,class:"transition-transform duration-300 group-hover:scale-110",draggable:"false"},null,8,D),t("button",{onClick:b(_=>k(o),["stop"]),class:"absolute top-2 left-2 p-2 bg-dark-900/80 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600"},[...e[1]||(e[1]=[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,F),e[2]||(e[2]=t("div",{class:"absolute top-2 right-2"},[t("svg",{class:"w-6 h-6 text-accent-500",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})])],-1))]),t("div",j,[t("h3",N,d(o.title),1),t("p",R,d(o.year),1),o.note?(a(),r("p",S,d(o.note),1)):y("",!0)])],8,V))),128))]))]))}};export{E as default};
