import{o as g,b as a,c as r,d as t,h,F as x,r as k,i as c,u as f,t as d,g as b,s as y}from"./index-yptzv2Gs.js";import{u as w,_ as F}from"./LoadingSpinner-BgCI5orC.js";const C={class:"p-6"},M={key:1,class:"flex flex-col items-center justify-center h-64 text-center"},B={key:2,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},L=["onClick"],$={class:"media-poster"},D=["src","alt"],V={key:0,class:"rating-badge"},j={class:"text-white"},N=["onClick"],R={class:"p-3"},S={class:"font-medium text-white text-sm line-clamp-2 mb-1"},z={class:"text-dark-400 text-xs"},T={__name:"FavoritesView",setup(I){const u=f(),i=w(),l=c([]),n=c(!0),p=s=>i.getImageURL(s,"w342"),v=s=>{const e=s.media_type==="tv"?"TVDetails":"MovieDetails";u.push({name:e,params:{id:s.tmdb_id}})},_=async s=>{await i.removeFromFavorites(s.tmdb_id,s.media_type),l.value=l.value.filter(e=>!(e.tmdb_id===s.tmdb_id&&e.media_type===s.media_type))};return g(async()=>{n.value=!0,await i.loadFavorites(),l.value=i.favorites,n.value=!1}),(s,e)=>(a(),r("div",C,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-white mb-6"},"Избранные",-1)),n.value?(a(),h(F,{key:0,text:"Загрузка избранного..."})):l.value.length===0?(a(),r("div",M,[...e[0]||(e[0]=[t("svg",{class:"w-16 h-16 text-dark-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),t("h3",{class:"text-lg font-medium text-dark-400 mb-2"},"Нет избранных",-1),t("p",{class:"text-dark-500 text-sm"},"Добавляйте фильмы и сериалы в избранное, чтобы они отображались здесь",-1)])])):(a(),r("div",B,[(a(!0),r(x,null,k(l.value,o=>(a(),r("div",{key:`${o.media_type}-${o.tmdb_id}`,class:"card-hover group cursor-pointer",onClick:m=>v(o)},[t("div",$,[t("img",{src:p(o.poster),alt:o.title,class:"transition-transform duration-300 group-hover:scale-110",draggable:"false"},null,8,D),o.rating>0?(a(),r("div",V,[e[1]||(e[1]=t("svg",{class:"w-3.5 h-3.5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),t("span",j,d(o.rating.toFixed(1)),1)])):b("",!0),t("button",{onClick:y(m=>_(o),["stop"]),class:"absolute top-2 left-2 p-2 bg-red-500/80 backdrop-blur-sm rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600"},[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,N)]),t("div",R,[t("h3",S,d(o.title),1),t("p",z,d(o.year),1)])],8,L))),128))]))]))}};export{T as default};
